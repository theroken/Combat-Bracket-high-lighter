plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

group = 'com.combatbrackethighlighter'
version = '1.0.0'

repositories {
    mavenCentral()
    maven {
        url = "https://repo.runelite.net"
    }
}

def runeLiteVersion = "1.11.14"  // latest RuneLite version

dependencies {
    // RuneLite client
    compileOnly group: 'net.runelite', name: 'client', version: runeLiteVersion

    // Lombok (optional, but common in RuneLite plugins)
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
    compileOnly 'org.projectlombok:lombok:1.18.30'

    // JUnit for testing
    testImplementation 'junit:junit:4.13.2'
    testImplementation group: 'net.runelite', name: 'client', version: runeLiteVersion
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.release.set(11) // RuneLite runs on Java 11
}

tasks.named('shadowJar') {
    archiveBaseName.set('combat-bracket-highlighter')
    archiveClassifier.set('')
    archiveVersion.set('')
}
